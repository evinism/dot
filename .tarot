autoload -U colors && colors

CARDS=( "The Fool" "The Magician" "The High Priestess" "The Empress" "The Emperor" "The Hierophant" "The Lovers" "The Chariot" "Strength" "The Hermit" "Wheel of Fortune" "Justice" "The Hanged Man" "Death" "Temperance" "The Devil" "The Tower" "The Star" "The Moon" "The Sun" "Judgement" "The World" "The Ace of Wands" "The Two of Wands" "The Three of Wands" "The Four of Wands" "The Five of Wands" "The Six of Wands" "The Seven of Wands" "The Eight of Wands" "The Nine of Wands" "The Ten of Wands" "The Page of Wands" "The Knight of Wands" "The Queen of Wands" "The King of Wands" "The Ace of Cups" "The Two of Cups" "The Three of Cups" "The Four of Cups" "The Five of Cups" "The Six of Cups" "The Seven of Cups" "The Eight of Cups" "The Nine of Cups" "The Ten of Cups" "The Page of Cups" "The Knight of Cups" "The Queen of Cups" "The King of Cups" "The Ace of Swords" "The Two of Swords" "The Three of Swords" "The Four of Swords" "The Five of Swords" "The Six of Swords" "The Seven of Swords" "The Eight of Swords" "The Nine of Swords" "The Ten of Swords" "The Page of Swords" "The Knight of Swords" "The Queen of Swords" "The King of Swords" "The Ace of Pentacles" "The Two of Pentacles" "The Three of Pentacles" "The Four of Pentacles" "The Five of Pentacles" "The Six of Pentacles" "The Seven of Pentacles" "The Eight of Pentacles" "The Nine of Pentacles" "The Ten of Pentacles" "The Page of Pentacles" "The Knight of Pentacles" "The Queen of Pentacles" "The King of Pentacles")

# via copy([...$(".card-item-content")].map(a => a.innerText).map(text => ({

UPRIGHT_MEANINGS=(
  "Beginnings, innocence, spontaneity, a free spirit"
  "Manifestation, resourcefulness, power, inspired action"
  "Intuition, sacred knowledge, divine feminine, the subconscious mind"
  "Femininity, beauty, nature, nurturing, abundance"
  "Authority, establishment, structure, a father figure"
  "Spiritual wisdom, religious beliefs, conformity, tradition,institutions"
  "Love, harmony, relationships, values alignment, choices"
  "Control, willpower, success, action, determination"
  "Strength, courage, persuasion, influence, compassion"
  "Soul-searching, introspection, being alone, inner guidance"
  "Good luck, karma, life cycles, destiny, a turning point"
  "Justice, fairness, truth, cause and effect, law"
  "Pause, surrender, letting go, new perspectives"
  "Endings, change, transformation, transition"
  "Balance, moderation, patience, purpose"
  "Shadow self, attachment, addiction, restriction, sexuality"
  "Sudden change, upheaval, chaos, revelation, awakening"
  "Hope, faith, purpose, renewal, spirituality"
  "Illusion, fear, anxiety, subconscious, intuition"
  "Positivity, fun, warmth, success, vitality"
  "Judgement, rebirth, inner calling, absolution"
  "Completion, integration, accomplishment, travel"
  "Inspiration, new opportunities, growth, potential"
  "Future planning, progress, decisions, discovery"
  "Progress, expansion, foresight, overseas opportunities"
  "Celebration, joy, harmony, relaxation, homecoming"
  "Conflict, disagreements, competition, tension, diversity"
  "Success, public recognition, progress, self-confidence"
  "Challenge, competition, protection, perseverance"
  "Movement, fast paced change, action, alignment, air travel"
  "Resilience, courage, persistence, test of faith, boundaries"
  "Burden, extra responsibility, hard work, completion"
  "Inspiration, ideas, discovery, limitless potential, free spirit"
  "Energy, passion, inspired action, adventure, impulsiveness"
  "Courage, confidence, independence, social butterfly, determination"
  "Natural-born leader, vision, entrepreneur, honour"
  "Love, new relationships, compassion, creativity."
  "Unified love, partnership, mutual attraction"
  "Celebration, friendship, creativity, collaborations."
  "Meditation, contemplation, apathy, reevaluation."
  "Regret, failure, disappointment, pessimism."
  "Revisiting the past, childhood memories, innocence, joy."
  "Opportunities, choices, wishful thinking, illusion."
  "Disappointment, abandonment, withdrawal, escapism."
  "Contentment, satisfaction, gratitude, wish come true."
  "Divine love, blissful relationships, harmony, alignment."
  "Creative opportunities, intuitive messages, curiosity, possibility."
  "Creativity, romance, charm, imagination, beauty."
  "Compassionate, caring, emotionally stable, intuitive, in flow."
  "Emotionally balanced, compassionate, diplomatic."
  "Breakthroughs, new ideas, mental clarity, success"
  "Difficult decisions, weighing up options, an impasse, avoidance"
  "Heartbreak, emotional pain, sorrow, grief, hurt"
  "Rest, relaxation, meditation, contemplation, recuperation"
  "Conflict, disagreements, competition, defeat, winning at all costs"
  "Transition, change, rite of passage, releasing baggage."
  "Betrayal, deception, getting away with something, acting strategically"
  "Negative thoughts, self-imposed restriction, imprisonment, victim mentality"
  "Anxiety, worry, fear, depression, nightmares"
  "Painful endings, deep wounds, betrayal, loss, crisis"
  "New ideas, curiosity, thirst for knowledge, new ways of communicating"
  "Ambitious, action-oriented, driven to succeed, fast-thinking"
  "Independent, unbiased judgement, clear boundaries, direct communication"
  "Mental clarity, intellectual power, authority, truth"
  "A new financial or career opportunity, manifestation, abundance."
  "Multiple priorities, time management, prioritisation, adaptability."
  "Teamwork, collaboration, learning, implementation."
  "Saving money, security, conservatism, scarcity, control."
  "Financial loss, poverty, lack mindset, isolation, worry."
  "Giving, receiving, sharing wealth, generosity, charity."
  "Long-term view, sustainable results, perseverance, investment."
  "Apprenticeship, repetitive tasks, mastery, skill development."
  "Abundance, luxury, self-sufficiency, financial independence."
  "Wealth, financial security, family, long-term success, contribution."
  "Manifestation, financial opportunity, skill development."
  "Hard work, productivity, routine, conservatism."
  "Nurturing, practical, providing financially, a working parent."
  "Wealth, business, leadership, security, discipline, abundance."
)

REVERSE_MEANINGS=(
  "Holding back, recklessness, risk-taking"
  "Manipulation, poor planning, untapped talents"
  "Secrets, disconnected from intuition, withdrawal and silence"
  "Creative block, dependence on others"
  "Domination, excessive control, lack of discipline, inflexibility"
  "Personal beliefs, freedom, challenging the status quo"
  "Self-love, disharmony, imbalance, misalignment of values"
  "Self-discipline, opposition, lack of direction"
  "Inner strength, self-doubt, low energy, raw emotion"
  "Isolation, loneliness, withdrawal"
  "Bad luck, resistance to change, breaking cycles"
  "Unfairness, lack of accountability, dishonesty"
  "Delays, resistance, stalling, indecision"
  "Resistance to change, personal transformation, inner purging"
  "Imbalance, excess, self-healing, re-alignment"
  "Releasing limiting beliefs, exploring dark thoughts, detachment"
  "Personal transformation, fear of change, averting disaster"
  "Lack of faith, despair, self-trust, disconnection"
  "Release of fear, repressed emotion, inner confusion"
  "Inner child, feeling down, overly optimistic"
  "Self-doubt, inner critic, ignoring the call"
  "Seeking personal closure, short-cuts, delays"
  "An emerging idea, lack of direction, distractions, delays"
  "Personal goals, inner alignment, fear of unknown, lack of planning"
  "Playing small, lack of foresight, unexpected delays"
  "Personal celebration, inner harmony, conflict with others, transition."
  "Inner conflict, conflict avoidance, tension release"
  "Private achievement, personal definition of success, fall from grace, egotism"
  "Exhaustion, giving up, overwhelmed"
  "Delays, frustration, resisting change, internal alignment"
  "Inner resources, struggle, overwhelm, defensive, paranoia"
  "Doing it all, carrying the burden, delegation, release"
  "Newly-formed ideas, redirecting energy, self-limiting beliefs, a spiritual path"
  "Passion project, haste, scattered energy, delays, frustration"
  "Self-respect, self-confidence, introverted, re-establish sense of self"
  "Impulsiveness, haste, ruthless, high expectations"
  "Self-love, intuition, repressed emotions."
  "Self-love, break-ups, disharmony, distrust."
  "Independence, alone time, hardcore partying, ‘three’s a crowd’."
  "Retreat, withdrawal, checking in for alignment."
  "Personal setbacks, self-forgiveness, moving on."
  "Living in the past, forgiveness, lacking playfulness."
  "Alignment, personal values, overwhelmed by choices."
  "Trying one more time, indecision, aimless drifting, walking away."
  "Inner happiness, materialism, dissatisfaction, indulgence."
  "Disconnection, misaligned values, struggling relationships."
  "New ideas, doubting intuition, creative blocks, emotional immaturity."
  "Overactive imagination, unrealistic, jealous, moody."
  "Inner feelings, self-care, self-love, co-dependency."
  "Self-compassion, inner feelings, moodiness, emotionally manipulative."
  "Inner clarity, re-thinking an idea, clouded judgement"
  "Indecision, confusion, information overload, stalemate"
  "Negative self-talk, releasing pain, optimism, forgiveness"
  "Exhaustion, burn-out, deep contemplation, stagnation"
  "Reconciliation, making amends, past resentment"
  "Personal transition, resistance to change, unfinished business"
  "Imposter syndrome, self-deceit, keeping secrets"
  "Self-limiting beliefs, inner critic, releasing negative thoughts, open to new perspectives"
  "Inner turmoil, deep-seated fears, secrets, releasing worry"
  "Recovery, regeneration, resisting an inevitable end"
  "Self-expression, all talk and no action, haphazard action, haste"
  "Restless, unfocused, impulsive, burn-out"
  "Overly-emotional, easily influenced, bitchy, cold-hearted"
  "Quiet power, inner truth, misuse of power, manipulation"
  "Lost opportunity, lack of planning and foresight."
  "Over-committed, disorganisation, reprioritisation."
  "Disharmony, misalignment, working alone."
  "Over-spending, greed, self-protection."
  "Recovery from financial loss, spiritual poverty."
  "Self-care, unpaid debts, one-sided charity."
  "Lack of long-term vision, limited success or reward."
  "Self-development, perfectionism, misdirected activity."
  "Self-worth, over-investment in work, hustling."
  "The dark side of wealth, financial failure or loss."
  "Lack of progress, procrastination, learn from failure."
  "Self-discipline, boredom, feeling ‘stuck’, perfectionism."
  "Financial independence, self-care, work-home conflict."
  "Financially inept, obsessed with wealth and status, stubborn."
)

function dailytarot(){
  SALT=llaswonklatsyrceht
  SHA=$(echo $(date +%Y-%m-%d) $SALT | shasum | cut -d' ' -f1)

  FIRSTPART=$(echo $SHA | cut -c1-2)
  SECONDPART=$(echo $SHA | cut -c3-4)

  CARD_INDEX=$(expr $(echo "ibase=16; ${FIRSTPART:u}" | bc) % ${#CARDS[@]})
  INVERTED=$(expr $(echo "ibase=16; ${SECONDPART:u}" | bc) % 2)

  RESULT=${CARDS[1 + CARD_INDEX]}
  MEANING=${UPRIGHT_MEANINGS[1 + CARD_INDEX]}
  if [[ $INVERTED -eq 1 ]]; then
    RESULT="$RESULT (Reversed)"
    MEANING=${REVERSE_MEANINGS[1 + CARD_INDEX]}
  fi
  echo "\n Today's Card is $fg[yellow]$RESULT $reset_color\n$fg[cyan]  〉$MEANING$reset_color\n"
}

